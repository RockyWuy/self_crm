<!--
 * @Author: rockyWu
 * @Date: 2020-04-29 16:28:21
 * @Description: 
 * @LastEditors: rockyWu
 * @LastEditTime: 2020-04-29 16:53:27
 -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>watermarkly</title>
</head>
<body>
    <div>hello world</div>
    <script>
        let oldCanvas = document.getElementById('a');
        if (oldCanvas) {
            oldCanvas.parentNode.removeChild(oldCanvas);
        }

        let body = document.getElementsByTagName('body');
        let width = window.screen.width;
        let height = window.screen.height;
        let canvas = document.createElement('canvas');

        let id = 'a';
        canvas.setAttribute('id', id);
        canvas.width = width;
        canvas.height = height;
        canvas.style.cssText = "position: fixed; width: 100%; height: 100%; left: 0; top: 0; z-index: -1;"
        body[0].appendChild(canvas);

        let ctx = canvas.getContext('2d');
        let redundance = 10;
        let xCount = window.screen.width / 10 + redundance;
        let yCount = window.screen.height / 10 + redundance;

        ctx.rotate(-10 * Math.PI / 180);
        for (let i = 0; i < xCount; i++) {
            for (let j = 0; j < yCount; j++) {
                ctx.fillStyle = 'red';
                ctx.font = '28px ' + 'Arial';
                ctx.fillText('test', 100 * i - redundance / 2, j * 100)
            }
        }
    </script>
</body>
</html>